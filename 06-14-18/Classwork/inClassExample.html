<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style>
      .left{
        float: left;
        width: 70%;
      }
      .right{
        width: 30%;
        float: left;
      }
      .leftDiv{
        line-height: 200px;
        text-align: center;
        cursor: pointer;
        width: calc(100%/3 - 4px);
        margin: 2px;
        height: 200px;
        background-color: red;
        color: white;
        float: left;
      }

      .rButton{
        line-height: 100px;
        text-align: center;
        cursor: pointer;
        height: 100px;
        float: left;
        width: calc(50% - 4px);
        margin: 2px;
        background-color: orange;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="left">
      <div class="leftDiv" id="l1">1</div>
      <div class="leftDiv" id="l2">2</div>
      <div class="leftDiv" id="l3">3</div>
      <div class="leftDiv" id="l4">4</div>
      <div class="leftDiv" id="l5">5</div>
      <div class="leftDiv" id="l6">6</div>
      <div class="leftDiv" id="l7">7</div>
      <div class="leftDiv" id="l8">8</div>
      <div class="leftDiv" id="l9">9</div>
    </div>

    <div class="right">
      <div class="rButton" id="r1">1</div>
      <div class="rButton" id="r2">2</div>
      <div class="rButton" id="r3">3</div>
      <div class="rButton" id="r4">4</div>
      <div class="rButton" id="r5">5</div>
      <div class="rButton" id="r6">6</div>
      <div class="rButton" id="r7">7</div>
      <div class="rButton" id="r8">8</div>
      <div class="rButton" id="r9">9</div>
    </div>

    <script>
    var right = document.getElementsByClassName('rButton');
    var left = document.getElementsByClassName('leftDiv');
    for(var i= 0; i < right.length; i++){
      right[i].addEventListener('click', function(e){
        if(document.getElementById("l"+e.target.innerText)){
          removeL(e.target.innerText);
        }
        else{
          addL(e.target.innerText);
        }
      })
    }
    for(var i= 0; i < left.length; i++){
      left[i].addEventListener('click', function(e){
        if(document.getElementById("r"+e.target.innerText)){
          removeR(e.target.innerText);
        }
        else{
          addR(e.target.innerText);
        }
      })
    }

    function addL(number){
      var div = document.createElement('div');
      div.classList.add('leftDiv');
      div.id = 'l'+number;
      div.innerHTML = number;
      div.addEventListener('click', function(e){
        if(document.getElementById("r"+e.target.innerText)){
          removeR(e.target.innerText);
        }
        else{
          addR(e.target.innerText);
        }
      })
      document.querySelector('.left').appendChild(div);
    }

    function removeR(number){
      document.querySelector('.right').removeChild(document.getElementById('r'+number));
    }

    function removeL(number){
      document.querySelector('.left').removeChild(document.getElementById('l'+number));
    }





    function addR(number){
      var div = document.createElement('div');
      div.classList.add('rButton');
      div.id = 'r'+number;
      div.innerHTML = number;
      div.addEventListener('click', function(e){
        if(document.getElementById("l"+e.target.innerText)){
          removeL(e.target.innerText);
        }
        else{
          addL(e.target.innerText);
        }
      })
      document.querySelector('.right').appendChild(div);
    }

    </script>
  </body>
</html>
